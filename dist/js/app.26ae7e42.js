(function(t){function n(n){for(var r,s,i=n[0],u=n[1],c=n[2],p=0,f=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(n);while(f.length)f.shift()();return o.push.apply(o,c||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],r=!0,i=1;i<e.length;i++){var u=e[i];0!==a[u]&&(r=!1)}r&&(o.splice(n--,1),t=s(s.s=e[0]))}return t}var r={},a={app:0},o=[];function s(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=r,s.d=function(t,n,e){s.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,n){if(1&n&&(t=s(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)s.d(e,r,function(n){return t[n]}.bind(null,r));return e},s.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=n,i=i.slice();for(var c=0;c<i.length;c++)n(i[c]);var l=u;o.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";e("64a9")},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("f751"),e("097d");var r=e("2b0e"),a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("AnnotatedText",{attrs:{text:t.text,annotations:t.annotations,spanEvents:t.spanEvents,getSpanClasses:t.getSpanClasses,getAnnotationColor:t.getAnnotationColor}})],1)},o=[],s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",t._l(t.spans,(function(n){return e("span",t._g(t._b({key:n.id,class:t.getSpanClasses(n),style:t.getSpanStyle(n),attrs:{"data-span-id":n.id,"data-annotation-ids":n.annotationIds},domProps:{innerHTML:t._s(n.text)}},"span",t.spanAttributes,!1),t.preppedSpanEvents))})),0)},i=[],u=(e("5df3"),e("4f7f"),e("75fc")),c=(e("6762"),e("2fdb"),e("c5f6"),e("456d"),e("ac6a"),e("e2da")),l=e.n(c),p=(e("1c4c"),e("bec7")),f=function(t,n){var e=[],r=["baseText",0,t.length];e.push(r);var a=n.map((function(t){return[t.id,t.start,t.length]}));e=e.concat(a);var o=Array.from(p(e)),s=0,i=0,u=o.map((function(n){var e=n[0],r=n[1];r=r.filter((function(t){return"baseText"!==t}));var a=s,o=s+e,u=t.slice(a,o),c={id:i,start:a,length:e,text:u,annotationIds:r};return i+=1,s=o,c}));return u},d={name:"AnnotatedText",props:{text:String,annotations:{type:Array,default:function(){return[]}},getAnnotationColor:{type:Function,default:function(t){return"#ffffff"}},getAnnotationInfo:Function,spanEvents:{type:Object,default:function(){return{}}},getSpanClasses:{type:Function,default:function(){return function(){}}},spanAttributes:{type:Object,default:function(){return{}}}},computed:{spans:function(){var t=f(this.text,this.annotations);return t},preppedSpanEvents:function(){var t=this,n=this.spanEvents,e={};return Object.keys(n).forEach((function(r){var a=n[r],o=function(n){var e=t.elementSpanId(n.target),r=t.spanById(e),o=r.annotationIds,s=t.getAnnotations(o);a(n,s)};e[r]=o})),e}},methods:{elementSpanId:function(t){var n=t.attributes["data-span-id"].value;return n=Number(n),n},spanById:function(t){var n=this.spans.filter((function(n){return n.id===t})),e=n[0];return e},getAnnotations:function(t){var n=this.annotations.filter((function(n){return t.includes(n.id)}));return n},getSpanStyle:function(t){return{backgroundColor:this.getSpanColor(t)}},getSpanColor:function(t){var n=this,e=null,r=t.annotationIds,a=this.getAnnotations(r),o=a.map((function(t){return n.getAnnotationColor(t)}));if(o=Object(u["a"])(new Set(o)),o.length>1){o=o.map((function(t){return new l.a.Color({hex:t})}));var s=new l.a.Color({mix:o});e=s.hex()}else e=o[0];return e}}},g=d,h=e("2877"),v=Object(h["a"])(g,s,i,!1,null,null,null),b=v.exports,m=[{start:0,length:7,id:1,class:"process"},{start:26,length:18,id:"smith_using_hammer",class:"process"},{start:38,length:6,id:"hammer",class:"tool"},{start:49,length:5,id:"anvil",class:"tool"}],y={name:"app",components:{AnnotatedText:b},data:function(){return{text:"Forging is performed by a smith using hammer and anvil.",annotations:m,spanEvents:{click:function(t,n){console.log(n)}},spanAttributes:{}}},methods:{getAnnotationColor:function(t){var n={process:"#f44283",tool:"#41acf4"},e=n[t.class];return e},getSpanClasses:function(t){var n=["my-span-class"],e=t.annotationIds;return e.length>0&&n.push("annotated"),n}}},x=y,S=(e("034f"),Object(h["a"])(x,a,o,!1,null,null,null)),A=S.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(A)}}).$mount("#app")},"64a9":function(t,n,e){}});
//# sourceMappingURL=app.26ae7e42.js.map