{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4241","webpack:///./src/App.vue?ac29","webpack:///./src/components/AnnotatedText.vue?7683","webpack:///./src/util/buildSpanList.js","webpack:///src/components/AnnotatedText.vue","webpack:///./src/components/AnnotatedText.vue?ea52","webpack:///./src/components/AnnotatedText.vue","webpack:///./src/data/annotations.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","text","annotations","spanEvents","getSpanClasses","getAnnotationColor","staticRenderFns","_l","span","_g","_b","id","class","style","getSpanStyle","annotationIds","domProps","_s","spanAttributes","preppedSpanEvents","flatten","require","buildSpanList","ranges","fullRange","annotationRanges","map","annotation","start","concat","sections","Array","from","sectionTextStart","spanId","spans","section","filter","annotationId","end","sectionText","props","String","type","default","Function","getAnnotationInfo","computed","keys","forEach","callback","e","eventType","newCallback","methods","elementSpanId","Number","spanById","getAnnotations","includes","backgroundColor","getSpanColor","colors","color","mix","hex","component","components","AnnotatedText","click","console","log","process","tool","classes","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.26ae7e42.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('AnnotatedText',{attrs:{\"text\":_vm.text,\"annotations\":_vm.annotations,\"spanEvents\":_vm.spanEvents,\"getSpanClasses\":_vm.getSpanClasses,\"getAnnotationColor\":_vm.getAnnotationColor}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',_vm._l((_vm.spans),function(span){return _c('span',_vm._g(_vm._b({key:span.id,class:_vm.getSpanClasses(span),style:(_vm.getSpanStyle(span)),attrs:{\"data-span-id\":span.id,\"data-annotation-ids\":span.annotationIds},domProps:{\"innerHTML\":_vm._s(span.text)}},'span',_vm.spanAttributes,false),_vm.preppedSpanEvents))}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const flatten = require(\"flatten-overlapping-ranges\");\n\nexport const buildSpanList = (text, annotations) => {\n  // Prepare range list to send to flatten-overlapping-spans.flatten()\n  let ranges = [];\n  const fullRange = [\"baseText\", 0, text.length];\n  ranges.push(fullRange);\n  const annotationRanges = annotations.map(annotation => {\n    return [annotation.id, annotation.start, annotation.length];\n  });\n  ranges = ranges.concat(annotationRanges);\n  // Flatten\n  const sections = Array.from(flatten(ranges));\n  // Each section becomes a span\n  let sectionTextStart = 0;\n  let spanId = 0;\n  const spans = sections.map(section => {\n    const length = section[0];\n    let annotationIds = section[1];\n    annotationIds = annotationIds.filter(annotationId => {\n      return annotationId !== 'baseText'\n    })\n    const start = sectionTextStart;\n    const end = sectionTextStart + length;\n    const sectionText = text.slice(start, end);\n    const span = {\n      id: spanId,\n      start: start,\n      length: length,\n      text: sectionText,\n      annotationIds: annotationIds\n    };\n    spanId = spanId + 1;\n    sectionTextStart = end;\n    return span;\n  });\n  return spans;\n};\n","<template>\n  <span>\n    <span\n      v-for=\"span in spans\"\n      :key=\"span.id\"\n      :data-span-id=\"span.id\"\n      :data-annotation-ids=\"span.annotationIds\"\n      :class=\"getSpanClasses(span)\"\n      :style=\"getSpanStyle(span)\"\n      v-bind=\"spanAttributes\"\n      v-on=\"preppedSpanEvents\"\n      v-html=\"span.text\"\n    ></span>\n  </span>\n</template>\n\n<script>\nimport c_c from 'color-mixer'\nimport { buildSpanList } from '../util/buildSpanList'\n\nexport default {\n  name: 'AnnotatedText',\n  props: {\n    text: String,\n    annotations: {\n      type: Array,\n      default: function() {\n        return []\n      },\n    },\n    getAnnotationColor: {\n      type: Function,\n      default: function(annotation) {\n        return '#ffffff'\n      },\n    },\n    getAnnotationInfo: Function,\n    spanEvents: {\n      type: Object,\n      default: function() { return {} }\n    },\n    getSpanClasses: {\n      type: Function,\n      default: function() { return () => {} }\n    },\n    spanAttributes: {\n      type: Object,\n      default: function() { return {} }\n    },\n  },\n  computed: {\n    spans: function() {\n      const spans = buildSpanList(this.text, this.annotations)\n      return spans\n    },\n    preppedSpanEvents() {\n      // Get annotations and pass to the event callback\n      const spanEvents = this.spanEvents\n      const preppedSpanEvents = {}\n      Object.keys(spanEvents).forEach(eventType => {\n        const callback = spanEvents[eventType]\n        const newCallback = (e) => {\n          const spanId = this.elementSpanId(e.target)\n          const span = this.spanById(spanId)\n          const annotationIds = span.annotationIds\n          const annotations = this.getAnnotations(annotationIds)\n          callback(e, annotations)\n        }\n        preppedSpanEvents[eventType] = newCallback\n      })\n      return preppedSpanEvents\n    },\n  },\n  methods: {\n    elementSpanId(el) {\n      let spanId = el.attributes['data-span-id'].value\n      spanId = Number(spanId)\n      return spanId\n    },\n    spanById(spanId) {\n      const spans = this.spans.filter(span => {\n        return span.id === spanId\n      })\n      const span = spans[0]\n      return span\n    },\n    getAnnotations(annotationIds) {\n      const annotations = this.annotations.filter(annotation => {\n        return annotationIds.includes(annotation.id)\n      })\n      return annotations\n    },\n    getSpanStyle: function(span) {\n      return {\n        backgroundColor: this.getSpanColor(span)\n      }\n    },\n    getSpanColor: function(span) {\n      let color = null\n      const annotationIds = span.annotationIds\n      const annotations = this.getAnnotations(annotationIds)\n      let colors = annotations.map(annotation => this.getAnnotationColor(annotation))\n      colors = [...new Set(colors)]\n      if (colors.length > 1) {\n        colors = colors.map(color => {\n          return new c_c.Color({hex: color})\n        })\n        const mix = new c_c.Color({mix: colors})\n        color = mix.hex()\n      } else {\n        color = colors[0]\n      }\n      return color\n    },\n  },\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotatedText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotatedText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotatedText.vue?vue&type=template&id=0ac8fa13&\"\nimport script from \"./AnnotatedText.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotatedText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default [\n  {\n    start: 0,\n    length: 7,\n    id: 1,\n    class: \"process\"\n  },\n  {\n    start: 26,\n    length: 18,\n    id: \"smith_using_hammer\",\n    class: \"process\"\n  },\n  {\n    start: 38,\n    length: 6,\n    id: \"hammer\",\n    class: \"tool\"\n  },\n  {\n    start: 49,\n    length: 5,\n    id: \"anvil\",\n    class: \"tool\"\n  }\n];\n","<template>\n  <div id=\"app\">\n    <AnnotatedText\n      :text=\"text\"\n      :annotations=\"annotations\"\n      :spanEvents=\"spanEvents\"\n      :getSpanClasses=\"getSpanClasses\"\n      :getAnnotationColor=\"getAnnotationColor\"\n    />\n  </div>\n</template>\n\n<script>\nimport AnnotatedText from './components/AnnotatedText.vue';\nimport annotations from './data/annotations.js';\n\nexport default {\n  name: 'app',\n  components: {\n    AnnotatedText,\n  },\n  data() {\n    return {\n      text: 'Forging is performed by a smith using hammer and anvil.',\n      annotations: annotations,\n      spanEvents: {\n        click: function(e, annotations) {\n          // All event callbacks take arguments: (event, annotations)\n          console.log(annotations);\n        },\n      },\n      spanAttributes: {},\n    };\n  },\n  methods: {\n    getAnnotationColor: function(annotation) {\n      const classToColor = {\n        process: '#f44283',\n        tool: '#41acf4',\n      };\n      const color = classToColor[annotation.class];\n      return color;\n    },\n    getSpanClasses: function(span) {\n      const classes = ['my-span-class'];\n      const annotationIds = span.annotationIds;\n      if (annotationIds.length > 0) {\n        classes.push('annotated');\n      }\n      return classes;\n    },\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: left;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n.my-span-class:hover {\n  outline: 1px solid black;\n}\n.annotated {\n  font-weight: bold;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=18441278&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}